---
const { frontmatter } = Astro.props;
import BaseLayout from "./BaseLayout.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
---

<BaseLayout title={frontmatter.title} description={frontmatter.excerpt}>
  <Navbar slot="navbar" />
  
  <article class="animate-fade-in" style="max-width:800px; margin:0 auto;">
    <header style="margin-bottom:2.5rem; padding-bottom:2rem; border-bottom:2px solid var(--border);">
      <div style="margin-bottom:1rem;">
        <span class="badge" style="display:inline-block;">
          ML Mondays
        </span>
      </div>
      
      <h1 style="font-size:2.75rem; margin:0.5rem 0 1rem 0; font-weight:800; letter-spacing:-0.03em; line-height:1.2; color:var(--text);">
        {frontmatter.title}
      </h1>
      
      {frontmatter.excerpt && (
        <p style="color:var(--muted); font-size:1.15rem; line-height:1.7; max-width:700px; margin-bottom:1.5rem;">
          {frontmatter.excerpt}
        </p>
      )}
      
      <div style="display:flex; align-items:center; gap:1.5rem; flex-wrap:wrap;">
        <div style="display:flex; align-items:center; gap:0.75rem;">
          <div style="width:48px; height:48px; border-radius:999px; background:var(--gradient-primary); display:flex; align-items:center; justify-content:center; font-size:1.2rem; font-weight:700; color:white; box-shadow:0 4px 12px rgba(192, 38, 211, 0.3);">
            {frontmatter.author.charAt(0).toUpperCase()}
          </div>
          <div>
            <p style="font-size:1rem; font-weight:600; color:var(--text); margin:0;">
              {frontmatter.author}
            </p>
            <p style="font-size:0.9rem; color:var(--muted); margin:0;">
              {frontmatter.date}
            </p>
          </div>
        </div>
        
        {frontmatter.tags && frontmatter.tags.length > 0 && (
          <div style="display:flex; gap:0.5rem; flex-wrap:wrap;">
            {frontmatter.tags.map(tag => (
              <span style="font-size:0.85rem; padding:0.35rem 0.85rem; border-radius:999px; background:rgba(139, 92, 246, 0.15); color:var(--accent-tertiary); font-weight:500; border:1px solid var(--border);">
                #{tag}
              </span>
            ))}
          </div>
        )}
      </div>
    </header>
    
    <div class="post-body glass-card" style="padding:2.5rem; line-height:1.8;">
      <slot />
    </div>
    
    <!-- Navigation -->
    <nav style="margin-top:3rem; padding-top:2rem; border-top:2px solid var(--border);">
      <a 
        href="/posts" 
        class="btn-primary" 
        style="text-decoration:none; display:inline-flex; align-items:center; gap:0.5rem;"
      >
        <span>‚Üê</span>
        Back to All Posts
      </a>
    </nav>
  </article>
  
  <Footer slot="footer" />
</BaseLayout>

<style>
  /* Enhanced MDX Content Styling */
  .post-body :global(h1),
  .post-body :global(h2),
  .post-body :global(h3),
  .post-body :global(h4),
  .post-body :global(h5),
  .post-body :global(h6) {
    color: var(--text);
    font-weight: 700;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
    line-height: 1.3;
  }
  
  .post-body :global(h1) {
    font-size: 2.25rem;
    margin-top: 3rem;
  }
  
  .post-body :global(h2) {
    font-size: 1.875rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--border);
  }
  
  .post-body :global(h3) {
    font-size: 1.5rem;
  }
  
  .post-body :global(h4) {
    font-size: 1.25rem;
  }
  
  .post-body :global(p) {
    color: var(--text-secondary);
    line-height: 1.9;
    margin-bottom: 1.5rem;
    font-size: 1.05rem;
  }
  
  .post-body :global(a) {
    color: var(--accent-primary);
    text-decoration: underline;
    text-decoration-color: rgba(192, 38, 211, 0.3);
    text-decoration-thickness: 2px;
    transition: all 0.3s ease;
    font-weight: 500;
  }
  
  .post-body :global(a:hover) {
    text-decoration-color: var(--accent-primary);
    color: var(--accent-secondary);
  }
  
  .post-body :global(ul),
  .post-body :global(ol) {
    margin: 1.5rem 0;
    padding-left: 2rem;
    color: var(--text-secondary);
  }
  
  .post-body :global(li) {
    margin-bottom: 0.75rem;
    line-height: 1.8;
    font-size: 1.05rem;
  }
  
  .post-body :global(li::marker) {
    color: var(--accent-primary);
    font-weight: 600;
  }
  
  .post-body :global(strong) {
    color: var(--text);
    font-weight: 700;
  }
  
  .post-body :global(em) {
    color: var(--text);
    font-style: italic;
  }
  
  .post-body :global(code) {
    background: var(--bg-elevated);
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    font-size: 0.9em;
    border: 1px solid var(--border);
    font-family: 'Fira Code', 'Courier New', monospace;
    color: var(--accent-secondary);
    font-weight: 500;
  }
  
  .post-body :global(pre) {
    background: var(--bg-elevated);
    padding: 1.5rem;
    border-radius: var(--radius-lg);
    overflow-x: auto;
    border: 1px solid var(--border);
    box-shadow: var(--shadow-sm);
    margin: 2rem 0;
  }
  
  .post-body :global(pre code) {
    background: none;
    padding: 0;
    border: none;
    font-size: 0.95rem;
    color: var(--text);
  }
  
  .post-body :global(blockquote) {
    border-left: 4px solid var(--accent-primary);
    padding-left: 1.5rem;
    margin: 2rem 0;
    color: var(--muted);
    font-style: italic;
    font-size: 1.1rem;
    background: linear-gradient(90deg, rgba(192, 38, 211, 0.05), transparent);
    padding: 1.5rem;
    border-radius: 0 var(--radius-md) var(--radius-md) 0;
  }
  
  .post-body :global(blockquote p) {
    margin: 0;
    color: var(--muted);
  }
  
  .post-body :global(hr) {
    border: none;
    border-top: 2px solid var(--border);
    margin: 3rem 0;
  }
  
  .post-body :global(table) {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    font-size: 0.95rem;
  }
  
  .post-body :global(th),
  .post-body :global(td) {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border);
    text-align: left;
  }
  
  .post-body :global(th) {
    background: var(--bg-elevated);
    font-weight: 700;
    color: var(--text);
  }
  
  .post-body :global(td) {
    color: var(--text-secondary);
  }
  
  .post-body :global(img) {
    max-width: 100%;
    height: auto;
    border-radius: var(--radius-lg);
    margin: 2rem 0;
    box-shadow: var(--shadow-md);
  }
  
  /* Responsive adjustments */
  @media (max-width: 768px) {
    article {
      padding: 0 1rem;
    }
    
    header h1 {
      font-size: 2rem !important;
    }
    
    .post-body {
      padding: 1.5rem !important;
    }
    
    .post-body :global(h1) {
      font-size: 1.75rem;
    }
    
    .post-body :global(h2) {
      font-size: 1.5rem;
    }
    
    .post-body :global(h3) {
      font-size: 1.25rem;
    }
    
    .post-body :global(pre) {
      padding: 1rem;
      font-size: 0.85rem;
    }
  }
</style>